package com.example.calculator;

import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {

    private TextView textViewDisplay;
    private String currentInput = "";
    private double firstNumber = 0;
    private String operator = "";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        textViewDisplay = findViewById(R.id.textViewDisplay);
        updateDisplay();
    }

    // Update screen
    private void updateDisplay() {
        if (currentInput.isEmpty()) {
            textViewDisplay.setText("0");
        } else {
            textViewDisplay.setText(currentInput);
        }
    }

    // When number button clicked
    public void onNumberClick(View view) {
        currentInput += view.getTag().toString();
        updateDisplay();
    }

    // When operator button clicked
    public void onOperatorClick(View view) {
        if (!currentInput.isEmpty()) {
            firstNumber = Double.parseDouble(currentInput);
            operator = view.getTag().toString();
            currentInput = "";
            updateDisplay();
        }
    }

    // When equal button clicked
    public void onEqualClick(View view) {
        if (!currentInput.isEmpty() && !operator.isEmpty()) {
            double secondNumber = Double.parseDouble(currentInput);
            double result = 0;

            switch (operator) {
                case "+": result = firstNumber + secondNumber; break;
                case "-": result = firstNumber - secondNumber; break;
                case "*": result = firstNumber * secondNumber; break;
                case "/":
                    if (secondNumber != 0)
                        result = firstNumber / secondNumber;
                    else
                        textViewDisplay.setText("Error");
                    break;
            }

            currentInput = String.valueOf(result);
            operator = "";
            updateDisplay();
        }
    }

    // When clear button clicked
    public void onClearClick(View view) {
        currentInput = "";
        firstNumber = 0;
        operator = "";
        updateDisplay();
    }
}
